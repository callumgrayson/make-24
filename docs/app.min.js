"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var o=0,n=new Array(t.length);o<t.length;o++)n[o]=t[o];return n}}function addLoadEvent(t){var o=window.onload;window.onload="function"!=typeof o?t:function(){o(),t()}}function showAlert(t){var o=document.getElementsByClassName("output")[0];o.innerHTML=t,o.style.color="red"}function display(t,o){var n=document.getElementsByClassName("output")[0];n.style.color="",n.innerHTML=t+"<br><br>",o.forEach(function(t){n.innerHTML+="".concat(t,"<br>")})}function validate(t){return 4===t.length?t:(showAlert("You must enter a valid 4 digit number"),!1)}function clearInput(){document.getElementById("digit-input").value=""}function handleSubmit(t){t.preventDefault();var o="".concat(t.target[0].value),n=validate(o);if(!n)return clearInput(),!1;display(o,make24.solve24(n)),clearInput()}function addInputListener(){document.getElementsByClassName("input-area")[0].addEventListener("submit",handleSubmit)}addLoadEvent(addInputListener);var make24={solve24:function(t){if(!t.length)return"Nothing to work with!";var o=_toConsumableArray(_toConsumableArray(t.split(""))),n=[];this.removeOneDigit(o,[],n),n=this.retInts(n);var a=this.operationCombinations(4),r=_toConsumableArray(_toConsumableArray("123".split(""))),c=[];this.removeOneDigit(r,[],c),c=this.retInts(c);var e=_toConsumableArray(n),p=_toConsumableArray(a),s=_toConsumableArray(c),i=[];this.calc24(e,p,s,i);var d=this.convertArraysToString(i),S=this.getUniqueStrings(d),l=S.length;Math.ceil(Math.random()*l);return S},removeOneDigit:function(t,o,n){for(var a=0;a<t.length;a++){var r=_toConsumableArray(t),c=_toConsumableArray(o).concat(r.splice(a,1));0<r.length?this.removeOneDigit(r,c,n):n.push(c)}},operationCombinations:function(t){for(var o=t,n=[],a=0;a<o;a++)for(var r=a+1,c=0;c<o;c++)for(var e=c+1,p=0;p<o;p++){var s=p+1;n.push([r,e,s])}return n},calc24:function(t,o,n,a){for(var r=_toConsumableArray(t),c=_toConsumableArray(o),e=_toConsumableArray(n),p=0;p<r.length;p++)for(var s=0;s<c.length;s++)for(var i=0;i<e.length;i++){var d=e[i].indexOf(1),S=e[i].indexOf(2),l=e[i].indexOf(3),h=function(t,o,n,a){return 1===n[a]?t+o:2===n[a]?t-o:3===n[a]?t*o:4===n[a]?t/o:void 0},u=h(r[p][d],r[p][d+1],c[s],d),f=_toConsumableArray(r[p]);f.splice(d,2,u);var y=_toConsumableArray(c[s]);y.splice(d,1);var m=_toConsumableArray(y),v=_toConsumableArray(e[i]);v.splice(d,1);var b,g,I=_toConsumableArray(v);g=l<d?l:l-1;var A=h(f[b=S<d?S:S-1],f[b+1],m,b),_=_toConsumableArray(f);_.splice(b,2,A);var C=_toConsumableArray(m);C.splice(b,1);var k=_toConsumableArray(C);_toConsumableArray(I).splice(b,1);var O;if(24===h(_[O=g<b?g:g-1],_[O+1],k,O)){var D=[_toConsumableArray(r[p]),_toConsumableArray(c[s]),_toConsumableArray(e[i])];a.push(D)}}},retInts:function(t){for(var o=[],n=0;n<t.length;n++){for(var a=[],r=0;r<t[n].length;r++){var c=parseInt(t[n][r]);a.push(c)}o.push(a)}return o},convertArraysToString:function(t){for(var o=[],n=0;n<t.length;n++){var a=this.getPhaseObj(t[n]),r=this.getPhaseStr(a);o.push(r)}return o},getPhaseObj:function(t){var o=_toConsumableArray(t[0]),n=t[2].indexOf(1),a=t[2].indexOf(2),r=t[2].indexOf(3),c=0===n?"L":1===n?"M":"R",e=0===a?"L":1===a?"M":"R",p=0===r?"L":1===r?"M":"R";return o.splice(n,2,[t[0][n],t[0][n+1]]),{phase1:{d1:o[n],op:t[1][n],opInd:n,pos:c},phase2:{d2:o[a],op:t[1][a],opInd:a,pos:e},phase3:{d3:o[r],op:t[1][r],opInd:r,pos:p}}},getPhaseStr:function getPhaseStr(inObj){var opPat1=inObj.phase1.op,opPat2=inObj.phase2.op,opPat3=inObj.phase3.op,d1a=inObj.phase1.d1[0],d1b=inObj.phase1.d1[1],d2=inObj.phase2.d2,d3=inObj.phase3.d3,opInd1=inObj.phase1.opInd,opInd2=inObj.phase2.opInd,opInd3=inObj.phase3.opInd,getOp=function(t){return 1===t?"+":2===t?"-":3===t?"*":4===t?"/":void 0},op1Str=getOp(opPat1),op2Str=getOp(opPat2),op3Str=getOp(opPat3),phase1Str="(".concat(d1a).concat(op1Str).concat(d1b,")"),phase2Str="",opDiff12=opInd2-opInd1;2===opDiff12?phase2Str="(".concat(d3).concat(op2Str).concat(d2,")"):-2===opDiff12?phase2Str="(".concat(d2).concat(op2Str).concat(d3,")"):1===opDiff12?phase2Str="(".concat(phase1Str).concat(op2Str).concat(d2,")"):-1===opDiff12?phase2Str="(".concat(d2).concat(op2Str).concat(phase1Str,")"):console.log("WTF?? Something does not make sense");var phase3Str="";1===opInd3&&0===opInd1?phase3Str="".concat(phase1Str).concat(op3Str).concat(phase2Str):1===opInd3&&2===opInd1?phase3Str="".concat(phase2Str).concat(op3Str).concat(phase1Str):0===opInd3?phase3Str="".concat(d3).concat(op3Str).concat(phase2Str):2===opInd3?phase3Str="".concat(phase2Str).concat(op3Str).concat(d3):console.log("WTF?? Something does not make sense");var only1Str="";2===opDiff12?only1Str="".concat(phase1Str).concat(op3Str).concat(d3).concat(op2Str).concat(d2):-2===opDiff12?only1Str="".concat(d2).concat(op2Str).concat(d3).concat(op3Str).concat(phase1Str):1===opDiff12&&0===opInd1?only1Str="".concat(phase1Str).concat(op2Str).concat(d2).concat(op3Str).concat(d3):1===opDiff12&&1===opInd1?only1Str="".concat(d3).concat(op3Str).concat(phase1Str).concat(op2Str).concat(d2):-1===opDiff12&&2===opInd1?only1Str="".concat(d3).concat(op3Str).concat(d2).concat(op2Str).concat(phase1Str):-1===opDiff12&&1===opInd1?only1Str="".concat(d2).concat(op2Str).concat(phase1Str).concat(op3Str).concat(d3):console.log("WTF?? Something does not make sense");var phase1StrNoBrackets="".concat(d1a).concat(op1Str).concat(d1b),only2Str="";2===opDiff12?only2Str="".concat(phase1StrNoBrackets).concat(op3Str,"(").concat(d3).concat(op2Str).concat(d2,")"):-2===opDiff12?only2Str="(".concat(d2).concat(op2Str).concat(d3,")").concat(op3Str).concat(phase1StrNoBrackets):1===opDiff12&&0===opInd1?only2Str="(".concat(phase1StrNoBrackets).concat(op2Str).concat(d2,")").concat(op3Str).concat(d3):1===opDiff12&&1===opInd1?only2Str="".concat(d3).concat(op3Str,"(").concat(phase1StrNoBrackets).concat(op2Str).concat(d2,")"):-1===opDiff12&&2===opInd1?only2Str="".concat(d3).concat(op3Str,"(").concat(d2).concat(op2Str).concat(phase1StrNoBrackets,")"):-1===opDiff12&&1===opInd1?only2Str="(".concat(d2).concat(op2Str).concat(phase1StrNoBrackets,")").concat(op3Str).concat(d3):console.log("WTF?? Something does not make sense");var noBracketsStr="";2===opDiff12?noBracketsStr="".concat(phase1StrNoBrackets).concat(op3Str).concat(d3).concat(op2Str).concat(d2):-2===opDiff12?noBracketsStr="".concat(d2).concat(op2Str).concat(d3).concat(op3Str).concat(phase1StrNoBrackets):1===opDiff12&&0===opInd1?noBracketsStr="".concat(phase1StrNoBrackets).concat(op2Str).concat(d2).concat(op3Str).concat(d3):1===opDiff12&&1===opInd1?noBracketsStr="".concat(d3).concat(op3Str).concat(phase1StrNoBrackets).concat(op2Str).concat(d2):-1===opDiff12&&2===opInd1?noBracketsStr="".concat(d3).concat(op3Str).concat(d2).concat(op2Str).concat(phase1StrNoBrackets):-1===opDiff12&&1===opInd1?noBracketsStr="".concat(d2).concat(op2Str).concat(phase1StrNoBrackets).concat(op3Str).concat(d3):console.log("WTF?? Something does not make sense");var finalStr="";return finalStr=eval(noBracketsStr)===eval(phase3Str)?noBracketsStr:eval(only2Str)===eval(phase3Str)?only2Str:eval(only1Str)===eval(phase3Str)?only1Str:phase3Str,finalStr},getUniqueStrings:function(t){return _toConsumableArray(t).sort().reduce(function(t,o){return t.includes(o)?t:t.concat(o)},[])}};